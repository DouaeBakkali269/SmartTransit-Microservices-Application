server.port=8081

# Eureka discovery
eureka.client.service-url.defaultZone=http://localhost:8761/eureka/
eureka.instance.prefer-ip-address=true

# Enable service discovery for gateway

#it automatically creates routes for registered services.
spring.cloud.gateway.discovery.locator.enabled=true 
spring.cloud.gateway.discovery.locator.lower-case-service-id=true

# Circuit breaker configuration (uses Spring Cloud Circuit Breaker + Resilience4j)
resilience4j.circuitbreaker.instances.defaultCircuitBreaker.registerHealthIndicator=true
resilience4j.circuitbreaker.instances.defaultCircuitBreaker.slidingWindowType=COUNT_BASED
resilience4j.circuitbreaker.instances.defaultCircuitBreaker.slidingWindowSize=10
resilience4j.circuitbreaker.instances.defaultCircuitBreaker.failureRateThreshold=50

# Fallback path used by circuit-breaker filter example
gateway.circuitbreaker.fallback-path=/fallback

spring.application.name=gateway-service

# Expose actuator endpoints needed for inspecting gateway routes
management.endpoints.web.exposure.include=health,info,gateway

# Enable debug logs for gateway routing (dev only)
logging.level.org.springframework.cloud.gateway=DEBUG
logging.level.org.springframework.web=DEBUG